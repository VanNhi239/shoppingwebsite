{% extends 'app/base.html' %}
{% load static %}
{% block banner_slider %}
<div id="carouselExampleDark" class="carousel carousel-dark slide" data-bs-ride="carousel" data-bs-interval="3000">
  <div class="carousel-indicators">
    <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
    <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="1" aria-label="Slide 2"></button>
    <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="2" aria-label="Slide 3"></button>
    <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="3" aria-label="Slide 4"></button>
  </div>
  <div class="carousel-inner">
    <div class="carousel-item active">
      <img src="{% static 'app/images/banner/img1.jpg' %}" class="d-block w-100" alt="" height="500">
      <div class="carousel-caption d-none d-md-block">
      </div>
    </div>
    <div class="carousel-item">
      <img src="{% static 'app/images/banner/img2.jpg' %}" class="d-block w-100" alt="" height="500">
      <div class="carousel-caption d-none d-md-block">
      </div>
    </div>
    <div class="carousel-item">
      <img src="{% static 'app/images/banner/img3.jpg' %}" class="d-block w-100" alt="" height="500">
      <div class="carousel-caption d-none d-md-block">
      </div>
    </div>
    <div class="carousel-item">
      <img src="{% static 'app/images/banner/img4.jpg' %}" class="d-block w-100" alt="" height="500">
      <div class="carousel-caption d-none d-md-block">
      </div>
    </div>
  </div>
  <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleDark" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleDark" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </button>
</div>
{% endblock banner_slider %}
{% block main-content %}
<br>
<div class="title">
  <h5><span style="margin-left: 220px">CATEGORIES</h5></span><br>
</div>
<div class="container">
  <style>
    /* CSS cho hiệu ứng hover */
    .category-icon {
        transition: transform 0.3s ease; /* Thêm transition để tạo hiệu ứng mượt mà */
    }

    .category-icon:hover {
        transform: scale(1.1); /* Phóng to hình ảnh khi hover */
        cursor: pointer
    }
</style>
<div class="row">
    <div class="col-2">
        <div class="nav flex-column" id="v-pills-tab" role="tablist" aria-orientation="vertical">
            <p class="nav-link active d-flex" id="v-pills-all-tab" data-bs-toggle="pill" href="#v-pills-all" role="tab" aria-controls="v-pills-all" aria-selected="true" style="color: black;" data-category="Men Clothes">
                <img src="{% static 'app/images/a1.jpg' %}" alt="" class="category-icon" width="60" height="60">
                <span class="ms-4">Men Clothes</span>
            </p>
        </div>  
    </div>
    <div class="col-2">
      <div class="nav flex-column" id="v-pills-tab" role="tablist" aria-orientation="vertical">
          <p class="nav-link active d-flex" id="v-pills-all-tab" data-bs-toggle="pill" href="#v-pills-all" role="tab" aria-controls="v-pills-all" aria-selected="true" style="color: black;" data-category="Men Bags">
              <img src="{% static 'app/images/a2.jpg' %}" alt="" class="category-icon" width="60" height="60">
              <span class="ms-4">Men Bags</span>
          </p>
      </div>
  </div>
  <div class="col-2">
    <div class="nav flex-column" id="v-pills-tab" role="tablist" aria-orientation="vertical">
        <a class="nav-link active d-flex" id="v-pills-all-tab" data-bs-toggle="pill" href="#v-pills-all" role="tab" aria-controls="v-pills-all" aria-selected="true" style="color: black;" data-category="Cameras">
            <img src="{% static 'app/images/a3.jpg' %}" alt="" class="category-icon" width="60" height="60">
            <span class="ms-4">Cameras</span>
        </a>
    </div>
</div>
<div class="col-2">
  <div class="nav flex-column" id="v-pills-tab" role="tablist" aria-orientation="vertical">
      <a class="nav-link active d-flex" id="v-pills-all-tab" data-bs-toggle="pill" href="#v-pills-all" role="tab" aria-controls="v-pills-all" aria-selected="true" style="color: black;" data-category="Watches">
          <img src="{% static 'app/images/a4.jpg' %}" alt="" class="category-icon" width="60" height="60">
          <span class="ms-4">Watches</span>
      </a>
  </div>
</div>
<div class="col-2">
  <div class="nav flex-column" id="v-pills-tab" role="tablist" aria-orientation="vertical">
      <a class="nav-link active d-flex" id="v-pills-all-tab" data-bs-toggle="pill" href="#v-pills-all" role="tab" aria-controls="v-pills-all" aria-selected="true" style="color: black;" data-category="Men Shoes">
          <img src="{% static 'app/images/a5.jpg' %}" alt="" class="category-icon" width="60" height="60">
          <span class="ms-4">Men Shoes</span>
      </a>
  </div>
</div>
<div class="col-2">
  <div class="nav flex-column" id="v-pills-tab" role="tablist" aria-orientation="vertical">
      <a class="nav-link active d-flex" id="v-pills-all-tab" data-bs-toggle="pill" href="#v-pills-all" role="tab" aria-controls="v-pills-all" aria-selected="true" style="color: black;" data-category="Sport & Outdoor">
          <img src="{% static 'app/images/a6.jpg' %}" alt="" class="category-icon" width="60" height="60">
          <span class="ms-4">Sport & Outdoor</span>
      </a>
  </div>
</div>
<div class="col-2">
  <div class="nav flex-column" id="v-pills-tab" role="tablist" aria-orientation="vertical">
      <a class="nav-link active d-flex" id="v-pills-all-tab" data-bs-toggle="pill" href="#v-pills-all" role="tab" aria-controls="v-pills-all" aria-selected="true" style="color: black;" data-category="Women Clothes">
          <img src="{% static 'app/images/a7.jpg' %}" alt="" class="category-icon" width="60" height="60">
          <span class="ms-4">Women Clothes</span>
      </a>
  </div>
</div>
<div class="col-2">
  <div class="nav flex-column" id="v-pills-tab" role="tablist" aria-orientation="vertical">
      <a class="nav-link active d-flex" id="v-pills-all-tab" data-bs-toggle="pill" href="#v-pills-all" role="tab" aria-controls="v-pills-all" aria-selected="true" style="color: black;" data-category="Beauty">
          <img src="{% static 'app/images/a8.jpg' %}" alt="" class="category-icon" width="60" height="60">
          <span class="ms-4">Beauty</span>
      </a>
  </div>
</div>
<div class="col-2">
  <div class="nav flex-column" id="v-pills-tab" role="tablist" aria-orientation="vertical">
      <a class="nav-link active d-flex" id="v-pills-all-tab" data-bs-toggle="pill" href="#v-pills-all" role="tab" aria-controls="v-pills-all" aria-selected="true" style="color: black;" data-category="Women Shoes">
          <img src="{% static 'app/images/a9.jpg' %}" alt="" class="category-icon" width="60" height="60">
          <span class="ms-4">Women Shoes</span>
      </a>
  </div>
</div>
<div class="col-2">
  <div class="nav flex-column" id="v-pills-tab" role="tablist" aria-orientation="vertical">
      <a class="nav-link active d-flex" id="v-pills-all-tab" data-bs-toggle="pill" href="#v-pills-all" role="tab" aria-controls="v-pills-all" aria-selected="true" style="color: black;" data-category="Women Bags">
          <img src="{% static 'app/images/a10.jpg' %}" alt="" class="category-icon" width="60" height="60">
          <span class="ms-4">Women Bags</span>
      </a>
  </div>
</div>
<div class="col-2">
  <div class="nav flex-column" id="v-pills-tab" role="tablist" aria-orientation="vertical">
      <a class="nav-link active d-flex" id="v-pills-all-tab" data-bs-toggle="pill" href="#v-pills-all" role="tab" aria-controls="v-pills-all" aria-selected="true" style="color: black;" data-category="Home Appliance">
          <img src="{% static 'app/images/a11.jpg' %}" alt="" class="category-icon" width="60" height="60">
          <span class="ms-4">Home Appliances</span>
      </a>
  </div>
</div>
<div class="col-2">
  <div class="nav flex-column" id="v-pills-tab" role="tablist" aria-orientation="vertical">
      <a class="nav-link active d-flex" id="v-pills-all-tab" data-bs-toggle="pill" href="#v-pills-all" role="tab" aria-controls="v-pills-all" aria-selected="true" style="color: black;" data-category="Toys">
          <img src="{% static 'app/images/a12.jpg' %}" alt="" class="category-icon" width="60" height="60">
          <span class="ms-4">Toys</span>
      </a>
  </div>
</div>
</div>
<script>
  document.addEventListener("DOMContentLoaded", function() {
    const categoryLinks = document.querySelectorAll('.category-link');

    categoryLinks.forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            const category = this.getAttribute('data-category');
            fetchProducts(category);
        });
    });
});

function fetchProducts(category) {
    fetch(`/get-products?category=${category}`)
        .then(response => response.json())
        .then(data => displayProducts(data))
        .catch(error => console.error('Error loading the products:', error));
}

function displayProducts(products) {
    const container = document.getElementById('products-container');
    container.innerHTML = ''; // Clear previous products
    products.forEach(product => {
        const productDiv = document.createElement('div');
        productDiv.className = 'product';
        productDiv.innerHTML = `<h4>${product.name}</h4><p>${product.description}</p>`;
        container.appendChild(productDiv);
    });
}
</script>
<br>
<div class="title">
  <center><h3><strong>PRODUCTS</strong></h3></center><br><br>
</div>
<div class="row">
  <style>
    /* Định dạng cơ bản cho .col */
    .col {
        transition: background-color 0.3s ease; /* Tạo hiệu ứng chuyển màu nền mượt mà */
    }

    /* Hiệu ứng khi hover vào .col */
    .col:hover {
        background-color: #27affb; /* Thay đổi màu nền khi hover */
        cursor: pointer;
    }
</style>
  {%for product in products%}
  <div class="col">
    <center><img class="thumbnail" src="{{product.ImageURL}}"></center>
    <div class="box-element product" height="100">
        <h4><strong><center>{{product.name}}</center></strong></h4>
        <hr>
        <button data-product={{product.id}} data-action="add" class="btn btn-outline-secondary add-btn update-cart">Add to cart</button>
        <a class="btn btn-outline-success" href="{% url 'detail' %}?id={{product.id}}">View Detail</a>
        <h4 style="display: inline-block; float: right; color: #074785"><strong>{{product.price}}00đ</strong></h4>
    </div>
  </div>
  {% endfor %}
</div>
</div>
<br/><br/><br/>
{% endblock main-content %}